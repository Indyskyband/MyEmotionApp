<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Files</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <style>
        /* --- ‡∏à‡∏±‡∏î layout ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πå‡∏î --- */
        .upload-layout {
            padding-top: 50px;
            justify-content: flex-start; /* ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô */
        }

        /* ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ "Files Upload" */
        .upload-title {
            font-size: 28px;
            font-weight: 800;
            color: #000;
            margin-bottom: 20px;
        }

        /* ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏¢‡∏≤‡∏ß‡πÜ */
        .upload-desc {
            font-size: 14px;
            color: #555; /* ‡∏™‡∏µ‡πÄ‡∏ó‡∏≤‡πÄ‡∏Ç‡πâ‡∏° */
            text-align: center;
            width: 80%;
            line-height: 1.5;
            margin-bottom: 60px; /* ‡πÄ‡∏ß‡πâ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏ß‡∏Å */
        }

        /* --- ‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏ß‡∏Å‡∏ß‡∏á‡∏Å‡∏•‡∏° (‡∏û‡∏£‡∏∞‡πÄ‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤) --- */
        .upload-circle-btn {
            width: 100px;
            height: 100px;
            background-color: #1A1A1A; /* ‡∏™‡∏µ‡∏î‡∏≥‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏™‡∏ô‡∏¥‡∏ó */
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
            transition: transform 0.1s;
        }

        .upload-circle-btn:active {
            transform: scale(0.95); /* ‡∏Å‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡πà‡∏≠‡∏•‡∏á‡∏ô‡∏¥‡∏î‡∏ô‡∏∂‡∏á */
        }

        /* ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ï‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏ß‡∏Å */
        .upload-label-text {
            font-size: 22px;
            font-weight: 700;
            color: #000;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .upload-hint {
            font-size: 14px;
            color: #666;
            font-weight: 400;
        }

        /* input file (‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô) */
        #file-input {
            display: none;
        }

            /* ‡∏õ‡∏∏‡πà‡∏° Back ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á */
        .btn-back {
            bottom: 40px !important;
            
            /* üî• ‡∏™‡∏±‡πà‡∏á‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á */
            display: flex !important;
            justify-content: center !important;
            align-items: center !important;
            
            /* üî• ‡∏™‡∏±‡πà‡∏á‡∏•‡∏ö‡∏Ç‡∏µ‡∏î‡πÄ‡∏™‡πâ‡∏ô‡πÉ‡∏ï‡πâ */
            text-decoration: none !important;
            
            /* ‡∏™‡∏µ‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠ (‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏ß‡∏£‡πå) */
            color: #1A1A1A !important;
            /* ‡πÉ‡∏ä‡πâ‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö btn-start ‡∏à‡∏≤‡∏Å style.css ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ */
        }

    </style>
</head>
<body>

    <div class="container">
        
        <div class="card upload-layout">
            
            <h1 class="upload-title">Files Upload</h1>

            <p class="upload-desc">
                Add your file here, and you can upload<br>
                up 5s maximum file size: 50 MB
            </p>

            <label for="file-input" class="upload-circle-btn">
                <svg width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
            </label>
            
            <input type="file" id="file-input" accept="video/*,audio/*">

            <div class="upload-label-text">Upload Files</div>
            <div class="upload-hint">Tap to select files</div>

            <a href="{{ url_for('home') }}" class="btn-start btn-back">
                Back
            </a>

        </div>
    </div>

    <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Files</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <style>
        .upload-layout {
            padding-top: 50px;
            justify-content: flex-start;
        }

        .upload-title {
            font-size: 28px;
            font-weight: 800;
            color: #000;
            margin-bottom: 20px;
        }

        .upload-desc {
            font-size: 14px;
            color: #555;
            text-align: center;
            width: 80%;
            line-height: 1.5;
            margin-bottom: 60px;
        }

        .upload-circle-btn {
            width: 100px;
            height: 100px;
            background-color: #1A1A1A;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
            transition: transform 0.1s;
        }

        .upload-circle-btn:active {
            transform: scale(0.95);
        }

        .upload-label-text {
            font-size: 22px;
            font-weight: 700;
            color: #000;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .upload-hint {
            font-size: 14px;
            color: #666;
            font-weight: 400;
        }

        #file-input {
            display: none;
        }

        /* ‡∏õ‡∏∏‡πà‡∏° Back (‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏≤‡∏á + ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏µ‡∏î‡πÄ‡∏™‡πâ‡∏ô‡πÉ‡∏ï‡πâ) */
        .btn-back {
            bottom: 40px !important;
            display: flex !important;
            justify-content: center !important;
            align-items: center !important;
            text-decoration: none !important;
            color: #1A1A1A !important;
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="card upload-layout">
            
            <h1 class="upload-title">Files Upload</h1>

            <p class="upload-desc">
                Add your file here, and you can upload<br>
                up 5s maximum file size: 50 MB
            </p>

            <label for="file-input" class="upload-circle-btn">
                <svg width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
            </label>
            
            <input type="file" id="file-input" accept="video/*,audio/*">

            <div class="upload-label-text">Upload Files</div>
            <div class="upload-hint">Tap to select files</div>

            <a href="{{ url_for('home') }}" class="btn-start btn-back">
                Back
            </a>

        </div>
    </div>

   <script>
        const fileInput = document.getElementById('file-input');
        const labelText = document.querySelector('.upload-label-text');
        const hintText = document.querySelector('.upload-hint');

        fileInput.addEventListener('change', function(event) {
            const file = event.target.files[0];
            
            if (file) {
                // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏∑‡πà‡∏≠‡∏à‡∏≥‡∏•‡∏≠‡∏á (‡πÄ‡∏ä‡πá‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô Audio ‡∏´‡∏£‡∏∑‡∏≠ Video)
                // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÉ‡∏ä‡πâ 'audio', ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡πÉ‡∏ä‡πâ 'video'
                const elementType = file.type.startsWith('audio') ? 'audio' : 'video';
                const media = document.createElement(elementType);
                
                media.preload = 'metadata';

                media.onloadedmetadata = function() {
                    window.URL.revokeObjectURL(media.src);
                    const duration = media.duration;

                    // ‡πÄ‡∏ä‡πá‡∏Å‡πÄ‡∏ß‡∏•‡∏≤ 5.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
                    if (duration > 5.5) {
                        alert(`‚ö†Ô∏è File is too long (${duration.toFixed(1)}s)!\nPlease upload a file less than 5 seconds.`);
                        fileInput.value = ""; // ‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏¥‡πâ‡∏á
                        labelText.innerText = "Upload Files";
                        hintText.innerText = "Tap to select files";
                    } else {
                        // ‚úÖ ‡∏ú‡πà‡∏≤‡∏ô: ‡πÇ‡∏ä‡∏ß‡πå‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå
                        labelText.innerText = file.name;
                        hintText.innerText = "Ready to analyze!";
                        console.log("File accepted:", file.name);
                    }
                }

                media.src = URL.createObjectURL(file);
            }
        });
    </script>

</body>
</html>